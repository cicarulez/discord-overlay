<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>Discord Overlay</title>
    <link rel="stylesheet" href="style.css"/>
</head>
<body>
<div id="overlay">
    <button id="restore-btn" class="icon-btn" title="Restore (Ctrl+M)" aria-label="Restore">◻</button>
    <div id="titlebar">
        <span id="title-text">Voice Overlay</span>
        <div id="title-actions">
            <button id="help-btn" class="icon-btn" title="Help (F1)">?</button>
            <button id="settings-btn" class="icon-btn" title="Settings (Ctrl+,)">⚙</button>
            <button id="minimize-btn" class="icon-btn" title="Minimize (Ctrl+M)">—</button>
            <button id="close-btn" class="icon-btn" title="Close (Ctrl+W)">✕</button>
        </div>
    </div>

    <div id="tracked-container">
        <div id="tracked-icon" class="status-icon muted"></div>
        <span id="tracked-name">No tracked user</span>
    </div>

    <div id="members-container">
        <div id="members-header">
            <h4 id="members-title">Channel members</h4>
            <button id="toggle-members-btn" title="Show/Hide list">▾</button>
        </div>
        <ul id="members-list"></ul>
    </div>
</div>

<div id="help-backdrop" class="help-backdrop" hidden></div>
<div id="help-modal" class="help-modal" role="dialog" aria-modal="true" aria-labelledby="help-title" hidden>
    <div class="help-header">
        <h3 id="help-title">Help & Shortcuts</h3>
        <button id="help-close-btn" class="icon-btn" title="Close (Esc)" aria-label="Close">✕</button>
    </div>
    <div class="help-content selectable">
        <p class="help-intro">Here are all the shortcuts available in the overlay. Use these combinations to move
            quickly without the mouse.</p>

        <ul class="shortcut-list">
            <li>
                <span class="keys"><kbd>F1</kbd></span>
                <span class="desc">Open this help panel.</span>
            </li>
            <li>
                <span class="keys"><kbd>Ctrl</kbd> + <kbd>M</kbd></span>
                <span class="desc">Minimize/Restore the overlay.</span>
            </li>
            <li>
                <span class="keys"><kbd>Ctrl</kbd> + <kbd>,</kbd></span>
                <span class="desc">Open settings.</span>
            </li>
            <li>
                <span class="keys"><kbd>Ctrl</kbd> + <kbd>W</kbd></span>
                <span class="desc">Close application.</span>
            </li>
            <li>
                <span class="keys"><kbd>Ctrl</kbd> + <kbd>L</kbd></span>
                <span class="desc">Show/Hide channel members list.</span>
            </li>
        </ul>

        <p class="help-tip">Tip: when the overlay is minimized, you can click the icon in the top right to restore
            it.</p>

        <hr />
        <div class="help-section">
            <h4>Windows fullscreen note</h4>
            <p>On Windows, the overlay can be shown over games only when the game runs in the following modes:</p>
            <ul>
                <li>Windowed</li>
                <li>Borderless Fullscreen (windowed borderless)</li>
            </ul>
            <p>When a game uses <em>Exclusive Fullscreen</em>, it bypasses the Desktop Window Manager (DWM)
                and renders directly via the GPU. In this mode, regular OS windows (including Electron overlays)
                cannot be drawn on top. This is a Windows technical limitation, not an app bug.</p>
        </div>
    </div>
</div>

<script src="renderer.js"></script>
</body>
</html>